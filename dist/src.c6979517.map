{"version":3,"sources":["src/index.js","../../.npm-packages/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../.npm-packages/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["APP_ID","getCookie","match","document","cookie","cname","consentCookie","GOOGLE_ANALYTICS_URL","bannerHTML","styles","cookieBar","annotation","policyLink","buttonContainer","button","accept","disable","banner","createElement","innerHTML","onload","getConsent","loadGA","script","src","type","head","appendChild","ga","writeCookie","key","value","days","date","Date","expirationDate","setTime","toGMTString","console","log","hideBanner","firstChild","nextSibling","style","animationName","setTimeout","display","body","acceptButton","getElementById","disableButton","onclick","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","remove","href","split","now","parentNode","insertBefore","cssTimeout","reloadCSS","links","querySelectorAll","i","length","module"],"mappings":"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","file":"src.c6979517.map","sourceRoot":"..","sourcesContent":["import styles from './styles.css'\nimport './styles.css'\n\nconst APP_ID = process.env.APP_ID || 'UA-XXXXX-Y'\n\nconst getCookie = cname => {\n  const match = document.cookie.match('(^|;) ?' + cname + '=([^;]*)(;|$)')\n  return match ? match[2] : ''\n}\n\nconst consentCookie = getCookie('consentCookie') // Initialise a variable to store the consent cookie\n\nconst GOOGLE_ANALYTICS_URL = 'https://www.google-analytics.com/analytics.js'\n\nconst bannerHTML = `\n    <div class=\"${styles.cookieBar}\">\n        <span class=\"${styles.annotation}\">We use cookies to give you the best experience and to help improve our website. Please read our <a href=\"${process.env.cookiesPolicyLink}\" target=\"_blank\" class=\"${styles.policyLink}\">Cookie Policy</a>\n            for more information. By clicking “Accept Cookies,” you agree to the storing of cookies on your device to\n            enhance site navigation and analyze site usage.</span>\n        <div class=\"${styles.buttonContainer}\">\n            <button id=\"acceptButton\" class=\"${styles.button} ${styles.accept}\">Accept Cookies</button>\n            <button id=\"disableButton\" class=\"${styles.button} ${styles.disable}\">Disable Cookies</button>\n        </div>\n    </div>`\n\nconst banner = document.createElement('div')\nbanner.innerHTML = bannerHTML\n\ndocument.onload = getConsent()\n\nfunction loadGA() {\n  const script = document.createElement('script')\n  script.src = GOOGLE_ANALYTICS_URL\n  script.type = 'text/javascript'\n  document.head.appendChild(script)\n\n  script.onload = () => {\n    ga('create', APP_ID, 'auto')\n    ga('send', 'pageview')\n  }\n}\n\nfunction writeCookie(key, value, days) {\n    var date = new Date();\n\n    let expirationDate\n    if (days) {\n      // Get unix milliseconds at current time plus number of days\n      expirationDate = date.setTime(+ date + (days * 86400000)).toGMTString() //24 * 60 * 60 * 1000\n    }\n    console.log(days)\n    document.cookie = `${key}=${value};${expirationDate ? expirationDate : ''}; path=/`\n};\n\nfunction hideBanner() {\n  banner.firstChild.nextSibling.style.animationName = styles['float-up']\n  setTimeout(() => {\n    banner.style.display = 'none'\n  }, 1000)\n}\n\nfunction getConsent() {\n  if (consentCookie == '') {\n    document.body.appendChild(banner)\n\n    const acceptButton = document.getElementById('acceptButton')\n    const disableButton = document.getElementById('disableButton')\n\n    acceptButton.onclick = () => {\n      loadGA()\n      hideBanner()\n      writeCookie('consentCookie', 'yes', process.env.acceptedCookieExpiration)\n    }\n\n    disableButton.onclick = () => {\n      writeCookie('consentCookie', 'no', process.env.disabledCookieExpiration)\n      hideBanner()\n    }\n  }\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}